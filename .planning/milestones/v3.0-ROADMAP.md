# v3.0 Roadmap Archive â€” ICT/Liquidity, Regime Detection, Risk Management & Multi-Asset

**Shipped:** 2026-02-23
**Phases:** 5 (Phase 14-18)
**Requirements:** 26 (all complete)
**Tests:** 548 total (121 new), 87% coverage
**LOC Added:** ~5,770

## Timeline

- **2026-02-22:** v3.0 milestone started, requirements defined, research complete
- **2026-02-22:** Phases 14-17 implemented (ICT, Regime, Risk, Multi-Asset)
- **2026-02-22:** Phase 18 partially implemented (chart builders)
- **2026-02-23:** Phase 18 completed (callbacks wired, tests green), Superpowers integrated
- **2026-02-23:** v3.0 milestone archived

## Phase Details

### Phase 14: ICT / Liquidity Concepts
**Goal:** Erweitere das SMC-Framework um Liquidity Sweeps, Inducement Detection, Kill Zones, Premium/Discount Zones und eine kombinierte ICT Enhanced Strategy.
**Requirements:** ICT-01, ICT-02, ICT-03, ICT-04, ICT-05, TEST-20
**Tests:** 30 new (457 total)
**Plans:** PLAN-14A (Liquidity Sweep + Inducement), PLAN-14B (Kill Zone + Premium/Discount), PLAN-14C (ICT Strategy), PLAN-14D (Tests)

### Phase 15: Regime Detection
**Goal:** Implementiere regelbasierte Marktregime-Erkennung (ATR-Volatilitaet + ADX-Trendstaerke) und ein Decorator-Pattern fuer regime-gesteuerte Strategien.
**Requirements:** REG-01, REG-02, REG-03, REG-04, TEST-21
**Tests:** 25 new (482 total)
**Key Files:** `src/strategy/regime/` (atr_regime.py, adx_classifier.py, classifier.py, gated_strategy.py)

### Phase 16: Advanced Risk Management
**Goal:** Ersetze das hardcoded 10% Position Sizing durch ein vollstaendiges Risk Management Modul mit Kelly Criterion, Portfolio Heat, Drawdown Scaling und Daily Risk Limits.
**Requirements:** RISK-01, RISK-02, RISK-03, RISK-04, RISK-05, TEST-22
**Tests:** 26 new (508 total)
**Plans:** PLAN-16A (Kelly + Heat), PLAN-16B (Fixed Fractional + DD Scaling), PLAN-16C (RiskManager Integration), PLAN-16D (Tests)

### Phase 17: Multi-Asset Foundation
**Goal:** Ermoegliche Backtesting ueber mehrere Symbole gleichzeitig mit chronologischem Bar-Merge, shared Portfolio und Cross-Asset Korrelation.
**Requirements:** MULTI-01, MULTI-02, MULTI-03, MULTI-04, TEST-23
**Tests:** 28 new (536 total)
**Plans:** PLAN-17A (merge_bars + Engine), PLAN-17B (Correlation + Per-Asset Limits), PLAN-17C (Tests)
**Key Decision:** Per-symbol ExecutionHandlers statt shared ExecutionHandler

### Phase 18: Dashboard Integration (v3.0)
**Goal:** Integriere Regime Overlay, Risk Dashboard und Multi-Asset View in das bestehende Dash Dashboard.
**Requirements:** DASH-01, DASH-02, DASH-03, TEST-24
**Tests:** 12 new (548 total)
**Plans:** PLAN-18A (Regime Overlay + Risk Dashboard), PLAN-18B (Multi-Asset View + Tests)

## Dependency Graph

```
v2.0 (shipped)
    |
    Phase 14 (ICT/Liquidity) -------- erweitert SMC package
    |
    Phase 15 (Regime Detection) ----- nutzt ICT als Teststrategie
    |
    Phase 16 (Risk Management) ------ parallel zu 15 moeglich
    |
    Phase 17 (Multi-Asset) ---------- braucht RiskManager
    |
    Phase 18 (Dashboard v3.0) ------- braucht 15 + 16 + 17
```

## Key Decisions Made

- Per-symbol ExecutionHandlers for cross-symbol fill isolation
- Multi-price equity snapshots via compute_equity(all_prices)
- heapq merge with counter to prevent MarketEvent comparison
- Regime overlay via separate Dash callback (allow_duplicate=True)
- regime_log serialization round-trip through dcc.Store

---
*Archived: 2026-02-23*
